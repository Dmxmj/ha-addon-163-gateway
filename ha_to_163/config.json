{
  "name": "HA to 163 Gateway",
  "version": "0.1.2",
  "slug": "ha_to_163",
  "description": "支持传感器、开关、插座、断路器数据推送到网易IoT平台",
  "arch": ["amd64", "armv7", "aarch64", "i386"],
  "url": "https://github.com/Dmxmj/ha-addon-163-gateway/tree/main",
  "startup": "application",
  "boot": "auto",
  "options": {
    "ha_url": "http://homeassistant:8123",
    "ha_token": "",
    "use_ssl": false,
    "gateway_product_key": "",
    "gateway_device_name": "",
    "gateway_device_secret": "",
    "sub_devices": [
      {
        "id": "sensor_001",
        "product_key": "",
        "device_name": "",
        "device_secret": "",
        "ha_entity_prefix": "sensor.xiaomi_",
        "device_type": "sensor",
        "supported_properties": ["temp", "hum", "batt"],
        "enabled": true
      },
      {
        "id": "switch_001",
        "product_key": "",
        "device_name": "",
        "device_secret": "",
        "ha_entity_prefix": "switch.iot_cn_942988692_",
        "device_type": "switch",
        "supported_properties": ["state"],
        "enabled": true
      },
      {
        "id": "socket_001",  // 智能插座配置
        "product_key": "",   // 插座产品的ProductKey
        "device_name": "",   // 插座设备的DeviceName
        "device_secret": "", // 插座设备的DeviceSecret
        "ha_entity_prefix": "switch.xiaomi_socket_",  // 小米插座实体前缀
        "device_type": "socket",  // 设备类型：插座
        "supported_properties": ["state", "power", "current"],  // 插座属性：状态、功率、电流
        "enabled": true
      },
      {
        "id": "breaker_001",  // 智能断路器配置
        "product_key": "",    // 断路器产品的ProductKey
        "device_name": "",    // 断路器设备的DeviceName
        "device_secret": "",  // 断路器设备的DeviceSecret
        "ha_entity_prefix": "sensor.breaker_",  // 断路器实体前缀
        "device_type": "breaker",  // 设备类型：断路器
        "supported_properties": ["state", "voltage", "current", "power", "leakage"],  // 断路器属性
        "enabled": true
      }
    ],
    "ha_discovery_interval": 3600,
    "wy_push_interval": 30,  // 插座/断路器数据变化快，缩短推送间隔
    "log_level": "info"
  },
  "schema": {
    "ha_url": "str",
    "ha_token": "str",
    "use_ssl": "bool",
    "gateway_product_key": "str",
    "gateway_device_name": "str",
    "gateway_device_secret": "str",
    "sub_devices": [
      {
        "id": "str",
        "product_key": "str",
        "device_name": "str",
        "device_secret": "str",
        "ha_entity_prefix": "str",
        "device_type": "match(sensor|switch|socket|breaker)",  // 支持四种设备类型
        "supported_properties": ["str"],
        "enabled": "bool"
      }
    ],
    "ha_discovery_interval": "int",
    "wy_push_interval": "int",
    "log_level": "match(info|debug|warning|error|critical)"
  },
  "ingress": false,
  "host_network": false,
  "map": ["config"]
}
    
